<html t:type="layout" title="View Person | sylvarbo"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd"
      xmlns:p="tapestry:parameter">

<div class="row">
    <div class="col-12">
        <h1>View Person</h1>
    </div>
</div>

 <t:form t:id="editForm">
<div class="row">
    <div class="col-12">
    <table border="1">
     <tr>
      <td>All identities</td>
      <td>
       <t:if test="canDeleteIdentities">
        <table border="1">
         <t:loop source="viewedObject.identities" index="currentIdentityIndex">
          <tr>
           <td>
            <t:if test="currentIdentityIsPrimary">
             <b>${currentIdentity.displayableName}</b>
             <p:else>${currentIdentity.displayableName}</p:else>
            </t:if>
           </td>
           <td><t:actionLink t:id="markIdentityAsPrimary" context="currentIdentityIndex">Mark as primary</t:actionLink></td>
           <td><t:actionLink t:id="deleteIdentity" context="currentIdentityIndex">Delete</t:actionLink></td>
          </tr>
         </t:loop>
        </table>
        <p:else><b>${viewedObject.primaryIdentity.displayableName}</b></p:else>
       </t:if>
       <br/>
       <t:select t:id="style"/>
       <t:submit t:id="addIdentity" value="Add identity"/>
      </td>
     </tr>
     <tr>
      <td>Events</td>
      <td>... todo ...</td>
     </tr>
     <tr>
      <td>Parents</td>
      <td>... todo ...</td>
     </tr>
     <tr>
      <td>Relationships</td>
      <td>... todo ...</td>
     </tr>
    </table>

    </div>
</div>
 </t:form>

<t:actionLink t:id="return">Return</t:actionLink>

</html>
